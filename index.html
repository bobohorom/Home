<!DOCTYPE html>
<html>
<head>
<title>Home Page</title>
</head>
<body>

<h1>Home5</h1>

<button onClick="testget()">GET</button>
  <button onClick="testit()">POST</button>
<p id="res"></p>
<script type="text/javascript">
  async function testit() {
    const res = document.getElementById("res");
    const formData = new FormData();
    formData.append('title' , 'Hello');
    
    try {
      console.log('try fetch');
      const response = await fetch('https://bobohorom.pythonanywhere.com/',{
                                  body : formData,
        method : 'POST'
      });
      

      console.log('wait response');
      /*const result = await response.text();*/
      const result = await response.json();
      //document.getElementById("res").textContent = `Result : ${result}`;
      document.getElementById("res").textContent = `Result : ${result.result}`;
    } catch (error) {
      console.log(error);
      alert("Fail");
    }
  }
  async function testget() {
    const res = document.getElementById("res");
    const formData = new FormData();
    formData.append('title' , 'Hello');
    
    try {
      console.log('try fetch');
      const response = await fetch('https://bobohorom.pythonanywhere.com/',{
                                  body : formData,
        method : 'GET'
      });
      

      console.log('wait response');
      /*const result = await response.text();*/
      const result = await response.json();
      //document.getElementById("res").textContent = `Result : ${result}`;
      document.getElementById("res").textContent = `Result : ${result.result}`;
    } catch (error) {
      console.log(error);
      alert("Fail");
    }
  }
  
</script>
</body>
</html>
